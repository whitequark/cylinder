OASISFormat:  0.4
Name:         cylinder
Version:      0.1
Synopsis:     A trustless file synchronization engine
Authors:      Peter Zotov <whitequark@whitequark.org>
License:      LGPL-2.1 with OCaml linking exception
Homepage:     https://github.com/whitequark/cylinder
Plugins:      META (0.4), DevFiles (0.4)
BuildTools:   ocamlbuild

Library "cylinder"
  Path:             lib
  Modules:          Block, Pathname, Timestamp, Tree, backends/In_memory_store
  BuildDepends:     lwt, lwt.unix, extlib, inotify, inotify.lwt, ZMQ, lwt-zmq,
                    protobuf, sodium, uuidm
  ByteOpt:          -ppx ppx_lwt -ppx ppx_protobuf
  NativeOpt:        -ppx ppx_lwt -ppx ppx_protobuf

Executable cylinderd
  Path:             lib
  MainIs:           cylinderd.ml
  BuildDepends:     cylinder
  CompiledObject:   best

Executable test_cylinder
  Path:             lib_test
  MainIs:           test_cylinder.ml
  Install:          false
  BuildDepends:     oUnit (>= 2.0), cylinder
  CompiledObject:   best
  ByteOpt:          -ppx ppx_lwt
  NativeOpt:        -ppx ppx_lwt

Test test_cylinder
  Command:          $test_cylinder -runner sequential
